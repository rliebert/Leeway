> rest-express@1.0.0 dev
> tsx server/index.ts

Initializing OpenAI embeddings...
Initializing Pinecone client...
Pinecone client initialized successfully
Starting periodic retraining service
Available indexes: [
  {
    "name": "leeway-chat-index",
    "dimension": 1536,
    "metric": "cosine",
    "host": "leeway-chat-index-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "braintrust-docs",
    "dimension": 1536,
    "metric": "dotproduct",
    "host": "braintrust-docs-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "rag-project-index",
    "dimension": 3072,
    "metric": "cosine",
    "host": "rag-project-index-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "rag-project-index-2",
    "dimension": 1536,
    "metric": "cosine",
    "host": "rag-project-index-2-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  }
]
Connecting to Pinecone index: leeway-chat-index
Session store database connection successful
8:40:20 AM [express] Session store initialized successfully
Pinecone client initialized successfully
Available indexes: [
  {
    "name": "leeway-chat-index",
    "dimension": 1536,
    "metric": "cosine",
    "host": "leeway-chat-index-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "braintrust-docs",
    "dimension": 1536,
    "metric": "dotproduct",
    "host": "braintrust-docs-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "rag-project-index",
    "dimension": 3072,
    "metric": "cosine",
    "host": "rag-project-index-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  },
  {
    "name": "rag-project-index-2",
    "dimension": 1536,
    "metric": "cosine",
    "host": "rag-project-index-2-csl6ulr.svc.aped-4627-b74a.pinecone.io",
    "deletionProtection": "disabled",
    "spec": {
      "serverless": {
        "cloud": "aws",
        "region": "us-east-1"
      }
    },
    "status": {
      "ready": true,
      "state": "Ready"
    }
  }
]
Connecting to Pinecone index: leeway-chat-index
Successfully connected to Pinecone index. Stats: {
  namespaces: { '': { recordCount: 16 } },
  dimension: 1536,
  indexFullness: 0,
  totalRecordCount: 16
}
Successfully connected to Pinecone index. Stats: {
  namespaces: { '': { recordCount: 16 } },
  dimension: 1536,
  indexFullness: 0,
  totalRecordCount: 16
}
8:40:20 AM [express] Pinecone service initialized successfully
[8:40:20 AM] [DEBUG] [WebSocket] Server debug logging enabled
8:40:20 AM [express] Server started successfully on port 5000
Starting periodic retraining service
8:40:25 AM [express] GET /api/user 304 in 59ms :: {"id":"1120df3e-2a36-4772-b21c-dde059ba2a70","emai…
8:40:25 AM [express] GET /api/sections 304 in 85ms :: [{"id":"772a02fd-7843-4c37-8b0c-8a0da872e0fa",…
8:40:25 AM [express] GET /api/users 304 in 86ms :: [{"id":"70fe3072-9cc0-4dfd-a8b6-4e6e86177bed","em…
8:40:25 AM [express] GET /api/channels/74a66855-49af-41b1-92a2-c06ea4319c40/messages 304 in 86ms :: …
8:40:25 AM [express] GET /api/channels 304 in 113ms :: [{"id":"592a3c6f-072b-4b24-ba22-0b0d6ff72463"…
8:40:25 AM [express] GET /api/messages/298cf068-474d-498d-96d9-7129cd16edce/replies 304 in 96ms :: []
[8:40:25 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:25 AM] [INFO] [WebSocket] Received message of type: subscribe
[8:40:25 AM] [INFO] [WebSocket] User 1120df3e-2a36-4772-b21c-dde059ba2a70 subscribed to channel 74a66855-49af-41b1-92a2-c06ea4319c40
[8:40:26 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:26 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:26 AM] [INFO] [WebSocket] Received message of type: unsubscribe
[8:40:26 AM] [INFO] [WebSocket] User 1120df3e-2a36-4772-b21c-dde059ba2a70 unsubscribed from channel 74a66855-49af-41b1-92a2-c06ea4319c40
[8:40:26 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:26 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:27 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:27 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:27 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:27 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:27 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:28 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:28 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:28 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:28 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:29 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:29 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:29 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:29 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:29 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:30 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:30 AM] [INFO] [WebSocket] WebSocket connected for user: 1120df3e-2a36-4772-b21c-dde059ba2a70
[8:40:30 AM] [INFO] [WebSocket] WebSocket closed for user: 1120df3e-2a36-4772