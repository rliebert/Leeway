client:535 WebSocket connection to 'wss://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/' failed: Error during WebSocket handshake: Unexpected response code: 400
setupWebSocket @ client:535
client:535 Uncaught (in promise) DOMException: Failed to construct 'WebSocket': The URL 'wss://localhost:undefined/' is invalid.
    at setupWebSocket (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/@vite/client:535:19)
    at fallback (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/@vite/client:508:16)
    at WebSocket.<anonymous> (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/@vite/client:551:7)
chunk-WERSD76P.js?v=d77ea17f:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
ws.tsx:68 Attempting WebSocket connection to: wss://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/ws
chunk-WERSD76P.js?v=d77ea17f:16670 Uncaught ReferenceError: heartbeatInterval is not defined
    at ws.tsx:194:7
    at safelyCallDestroy (chunk-WERSD76P.js?v=d77ea17f:16748:13)
    at commitHookEffectListUnmount (chunk-WERSD76P.js?v=d77ea17f:16875:19)
    at invokePassiveEffectUnmountInDEV (chunk-WERSD76P.js?v=d77ea17f:18363:19)
    at invokeEffectsInDev (chunk-WERSD76P.js?v=d77ea17f:19701:19)
    at commitDoubleInvokeEffectsInDEV (chunk-WERSD76P.js?v=d77ea17f:19682:15)
    at flushPassiveEffectsImpl (chunk-WERSD76P.js?v=d77ea17f:19503:13)
    at flushPassiveEffects (chunk-WERSD76P.js?v=d77ea17f:19447:22)
    at commitRootImpl (chunk-WERSD76P.js?v=d77ea17f:19416:13)
    at commitRoot (chunk-WERSD76P.js?v=d77ea17f:19277:13)
ws.tsx:68 Attempting WebSocket connection to: wss://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/ws
chunk-WERSD76P.js?v=d77ea17f:14032 The above error occurred in the <WSProvider> component:

    at WSProvider (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/src/lib/ws.tsx:31:30)
    at AuthenticatedApp (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/src/App.tsx:29:31)
    at App
    at QueryClientProvider (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/@fs/home/runner/workspace/node_modules/.vite/deps/@tanstack_react-query.js?v=d77ea17f:2829:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
logCapturedError @ chunk-WERSD76P.js?v=d77ea17f:14032
Show 1 more frame
Show less
chunk-WERSD76P.js?v=d77ea17f:9129 Uncaught ReferenceError: heartbeatInterval is not defined
    at ws.tsx:194:7
    at safelyCallDestroy (chunk-WERSD76P.js?v=d77ea17f:16748:13)
    at commitHookEffectListUnmount (chunk-WERSD76P.js?v=d77ea17f:16875:19)
    at invokePassiveEffectUnmountInDEV (chunk-WERSD76P.js?v=d77ea17f:18363:19)
    at invokeEffectsInDev (chunk-WERSD76P.js?v=d77ea17f:19701:19)
    at commitDoubleInvokeEffectsInDEV (chunk-WERSD76P.js?v=d77ea17f:19682:15)
    at flushPassiveEffectsImpl (chunk-WERSD76P.js?v=d77ea17f:19503:13)
    at flushPassiveEffects (chunk-WERSD76P.js?v=d77ea17f:19447:22)
    at commitRootImpl (chunk-WERSD76P.js?v=d77ea17f:19416:13)
    at commitRoot (chunk-WERSD76P.js?v=d77ea17f:19277:13)
chunk-WERSD76P.js?v=d77ea17f:16670 Uncaught ReferenceError: heartbeatInterval is not defined
    at ws.tsx:194:7
    at safelyCallDestroy (chunk-WERSD76P.js?v=d77ea17f:16748:13)
    at commitHookEffectListUnmount (chunk-WERSD76P.js?v=d77ea17f:16875:19)
    at commitPassiveUnmountInsideDeletedTreeOnFiber (chunk-WERSD76P.js?v=d77ea17f:18283:17)
    at commitPassiveUnmountEffectsInsideOfDeletedTree_begin (chunk-WERSD76P.js?v=d77ea17f:18245:13)
    at commitPassiveUnmountEffects_begin (chunk-WERSD76P.js?v=d77ea17f:18181:19)
    at commitPassiveUnmountEffects (chunk-WERSD76P.js?v=d77ea17f:18169:11)
    at flushPassiveEffectsImpl (chunk-WERSD76P.js?v=d77ea17f:19489:11)
    at flushPassiveEffects (chunk-WERSD76P.js?v=d77ea17f:19447:22)
    at performSyncWorkOnRoot (chunk-WERSD76P.js?v=d77ea17f:18868:11)
chunk-WERSD76P.js?v=d77ea17f:14032 The above error occurred in the <WSProvider> component:

    at WSProvider (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/src/lib/ws.tsx:31:30)
    at AuthenticatedApp (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/src/App.tsx:29:31)
    at App
    at QueryClientProvider (https://44735494-6dfc-48b8-8b7b-57eeb25441a5-00-707pakz1pob.kirk.replit.dev/@fs/home/runner/workspace/node_modules/.vite/deps/@tanstack_react-query.js?v=d77ea17f:2829:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
logCapturedError @ chunk-WERSD76P.js?v=d77ea17f:14032
Show 1 more frame
Show less
chunk-WERSD76P.js?v=d77ea17f:9129 Uncaught ReferenceError: heartbeatInterval is not defined
    at ws.tsx:194:7
    at safelyCallDestroy (chunk-WERSD76P.js?v=d77ea17f:16748:13)
    at commitHookEffectListUnmount (chunk-WERSD76P.js?v=d77ea17f:16875:19)
    at commitPassiveUnmountInsideDeletedTreeOnFiber (chunk-WERSD76P.js?v=d77ea17f:18283:17)
    at commitPassiveUnmountEffectsInsideOfDeletedTree_begin (chunk-WERSD76P.js?v=d77ea17f:18245:13)
    at commitPassiveUnmountEffects_begin (chunk-WERSD76P.js?v=d77ea17f:18181:19)
    at commitPassiveUnmountEffects (chunk-WERSD76P.js?v=d77ea17f:18169:11)
    at flushPassiveEffectsImpl (chunk-WERSD76P.js?v=d77ea17f:19489:11)
    at flushPassiveEffects (chunk-WERSD76P.js?v=d77ea17f:19447:22)
    at performSyncWorkOnRoot (chunk-WERSD76P.js?v=d77ea17f:18868:11)
ws.tsx:90 WebSocket connection established successfully
ws.tsx:160 WebSocket message received: Object
ws.tsx:168 Connection confirmed with userId: 1120df3e-2a36-4772-b21c-dde059ba2a70
ws.tsx:160 WebSocket message received: Object
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:90 WebSocket connection established successfully
ws.tsx:160 WebSocket message received: Object
ws.tsx:168 Connection confirmed with userId: 1120df3e-2a36-4772-b21c-dde059ba2a70
ws.tsx:160 WebSocket message received: Object
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed
ws.tsx:160 WebSocket message received: {type: 'pong'}
ws.tsx:163 Received pong response, connection confirmed